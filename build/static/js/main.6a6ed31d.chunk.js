(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{11:function(e,t,n){e.exports={"vertical-center":"layout_vertical-center__tiQa7","vertical-default":"layout_vertical-default__hwLvP","horizontal-center":"layout_horizontal-center__2VCG0","horizontal-default-start":"layout_horizontal-default-start__25X96","horizontal-default":"layout_horizontal-default__1Fcnw","horizontal-around":"layout_horizontal-around__pR6LL","horizontal-between":"layout_horizontal-between__OAQ3D","horizontal-end":"layout_horizontal-end__2EWcP","inline-block":"layout_inline-block__fjtNF","align-block-right":"layout_align-block-right__2zkoP",relative:"layout_relative__XXHb2","fixed-top":"layout_fixed-top__1yGL5","no-margin":"layout_no-margin__2VFvl",container:"layout_container__1sr8n","full-width":"layout_full-width__joer5"}},129:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(36),c=n.n(r),s=(n(99),n(9)),i=n(0),o=n(76),u=n(7),l=n(25),d="#DE354C",b="#FF7F7F",p="#932432",f="#3C1874",j="#D3D3D3",h=n.p+"static/media/loading-circle.22e2b20a.gif",m={container:{position:"fixed",fontSize:30,top:"50vh",left:"50vw",transform:"translate(-50%, -50%)"},image:{width:50}},g=n(1);function O(){return Object(g.jsx)("div",{style:m.container,children:Object(g.jsx)("img",{src:h,alt:"Loading circle",style:m.image})})}var v=n(4),x=n.n(v),A=n(8),C=n(10),y="SET_FETCHING",w="SET_IS_SONG_PAGE",_="SET_IS_SONG_PAGE_VIEW",k="SET_SONG_LINK";function S(e){return{type:y,value:e}}function N(e){return{type:w,value:e}}function E(e){return{type:_,value:e}}function B(e){return{type:k,link:e}}var Q="SET_USERNAME",I="SET_ADMIN";function T(e){return{type:Q,username:e}}function R(e){return{type:I,admin:null===e?null:!0===e||"True"===e}}var P=n(12),U=n.n(P),L=n(15),V=n(38),D=new V.a;function F(){var e=null,t="csrftoken";if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),a=0;a<n.length;a++){var r=n[a].trim();if(r.substring(0,t.length+1)===t+"="){e=decodeURIComponent(r.substring(t.length+1));break}}return e}function W(){return q.apply(this,arguments)}function q(){return(q=Object(A.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=D.get("username"))){e.next=4;break}return e.abrupt("return",t);case 4:return e.next=6,U.a.get("/api/auth/user",{withCredentials:!0});case 6:return n=e.sent,D.set("username",n.data,{path:"/"}),e.abrupt("return",n.data);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function H(){return M.apply(this,arguments)}function M(){return(M=Object(A.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=D.get("email"))){e.next=4;break}return e.abrupt("return",t);case 4:return e.next=6,U.a.get("/api/auth/email",{withCredentials:!0});case 6:return n=e.sent,D.set("email",n.data,{path:"/"}),e.abrupt("return",n.data);case 11:return e.prev=11,e.t0=e.catch(0),alert("There was an error determining your email. Please check that you are connected to a network."),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function X(e){e.sort((function(e,t){return e.id<t.id}))}function z(e,t,n){U.a.put("/api/songs/".concat(e,"/"),Object(L.a)({},t,n),{withCredentials:!0,headers:{"Content-Type":"application/json","X-CSRFToken":F()}})}function G(e){return Object.keys(e).length}function Y(e,t){if(!e||!t)return!0;if(G(e)!==G(t))return!1;for(var n in e)if("name"!==n&&"artist"!==n&&"views"!==n&&"chords"!==n&&e[n]!==t[n])return!1;return!0}function K(){return J.apply(this,arguments)}function J(){return(J=Object(A.a)(x.a.mark((function e(){var t,n,a=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.length>0&&void 0!==a[0]&&a[0]||!D.get("activated")){e.next=3;break}return e.abrupt("return","true"===D.get("activated"));case 3:return e.prev=3,e.next=6,U.a.get("/api/auth/email/is_activated",{withCredentials:!0});case 6:return t=e.sent,n="True"===t.data,D.set("activated",n,{path:"/"}),e.abrupt("return",n);case 12:throw e.prev=12,e.t0=e.catch(3),e.t0;case 15:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)}function Z(e){return $.apply(this,arguments)}function $(){return($=Object(A.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.post("/api/views/increment",{songId:t},{withCredentials:!0,headers:{"Content-Type":"application/json","X-CSRFToken":F()}});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var ee="ADD_SONG",te="GET_USER_SONGS",ne="GET_PUBLIC_SONGS",ae="DELETE_SONG",re="UPDATE_SONG",ce="REPLACE_SONG",se="SET_FILTERED_PUBLIC_SONGS",ie="SET_FILTERED_USER_SONGS",oe="SET_VIEWS",ue="INCREMENT_VIEW";function le(){return function(){var e=Object(A.a)(x.a.mark((function e(t){var n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.get("/api/songs/",{withCredentials:!0});case 3:n=e.sent,X(a=n.data),t({type:te,userSongs:a}),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0.message),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}function de(e){return function(){var t=Object(A.a)(x.a.mark((function t(n){var a,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.a.post("/api/songs/",{creator:e},{withCredentials:!0,headers:{"X-CSRFToken":F()}});case 3:a=t.sent,r={id:a.data.id,name:"",artist:"",creator:e,lyrics:"",pulled_lyrics:"",chords:"",strumming_pattern:"",is_favourite:!1,public:!1},n({type:ee,song:r}),localStorage.removeItem(e),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),console.log(t.t0.message),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}function be(e){return function(){var t=Object(A.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,n({type:ae,id:e}),U.a.delete("/api/songs/".concat(e,"/"),{withCredentials:!0,headers:{"X-CSRFToken":F()}}),t.next=9;break;case 5:throw t.prev=5,t.t0=t.catch(0),console.log(t.t0.response?t.t0.response.data:t.t0.message),t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()}function pe(e,t,n){return{type:re,id:e,updateType:t,value:n}}function fe(e){return{type:se,songs:e}}function je(e){return{type:ie,songs:e}}function he(e){return{type:oe,views:e}}function me(e){return{type:ue,id:e}}var ge=n(77),Oe=n.n(ge);function ve(e){var t=e.className;return Object(g.jsx)("button",{onClick:e.onClick,className:"".concat(Oe.a.btn," ").concat(t),children:e.children})}var xe=n(11),Ae=n.n(xe),Ce=n(3),ye=n.n(Ce),we=n(29),_e=n.n(we),ke=new V.a;function Se(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),i=Object(s.a)(c,2),o=i[0],l=i[1],d=Object(a.useState)(""),b=Object(s.a)(d,2),p=b[0],f=b[1],j=Object(a.useState)(""),h=Object(s.a)(j,2),m=h[0],v=h[1],y=Object(a.useState)(!0),w=Object(s.a)(y,2),_=w[0],k=w[1],S=Object(a.useState)(!1),N=Object(s.a)(S,2),E=N[0],B=N[1],Q=Object(u.b)(),I=Object(C.f)();function P(){return(P=Object(A.a)(x.a.mark((function e(t){var a,r,c,i,u,l,d,b,f;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.get("/api/auth/csrf",{withCredentials:!0});case 2:if(t.preventDefault(),"signup"!==(a=_?"login":"signup")||m===p){e.next=7;break}return alert("Your passwords don't match. Please try again."),e.abrupt("return");case 7:if("signup"!==a||-1!==o.indexOf("@")){e.next=10;break}return alert("Invalid email address. Please try again."),e.abrupt("return");case 10:if(!(["accounts","songs","help","user"].indexOf(n)>-1)){e.next=14;break}return alert("The given username cannot be used. Please try again."),e.abrupt("return");case 14:if(e.prev=14,B(!0),"signup"!==a){e.next=22;break}return e.next=19,U.a.post("/api/auth/".concat(a),{username:n,email:o,password:p},{withCredentials:!0,headers:{"X-CSRFToken":F()}});case 19:e.t0=e.sent,e.next=25;break;case 22:return e.next=24,U.a.post("/api/auth/".concat(a),{username:n,password:p},{withCredentials:!0,headers:{"X-CSRFToken":F()}});case 24:e.t0=e.sent;case 25:return r=e.t0,c=r.data.split("**"),i=Object(s.a)(c,3),u=i[0],l=i[1],d=i[2],e.next=29,K(!0);case 29:b=e.sent,ke.set("username",u,{path:"/"}),ke.set("email",l,{path:"/"}),ke.set("activated",b,{path:"/"}),Q(T(u)),Q(R(d)),Q(le()),B(!1),console.log(_),_?I.push("/songs/".concat(u)):I.push("/accounts/confirm-email"),e.next=47;break;case 41:e.prev=41,e.t1=e.catch(14),B(!1),f="There was an error handling your credentials.",e.t1.response&&e.t1.response.data&&(f=e.t1.response.data),alert(f);case 47:case"end":return e.stop()}}),e,null,[[14,41]])})))).apply(this,arguments)}return Object(g.jsxs)("div",{className:Ae.a.container,children:[E&&Object(g.jsx)(O,{}),Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{className:ye.a.title,children:_?"Login":"Sign Up"}),Object(g.jsxs)("form",{children:[Object(g.jsx)("label",{className:_e.a.label,htmlFor:"username",children:_?"Username/Email":"Username"}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{id:"username",className:_e.a.field,value:n,onChange:function(e){return r(e.target.value)}}),Object(g.jsx)("br",{}),!_&&Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{className:_e.a.label,htmlFor:"email",children:"Email"}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{id:"email",className:_e.a.field,value:o,onChange:function(e){return l(e.target.value)}}),Object(g.jsx)("br",{})]}),Object(g.jsx)("label",{className:_e.a.label,htmlFor:"password",children:"Password"}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"password",id:"password",className:_e.a.field,value:p,onChange:function(e){return f(e.target.value)}}),Object(g.jsx)("br",{}),!_&&Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{className:_e.a.label,htmlFor:"repeated-password",children:"Re-enter your password"}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{type:"password",id:"repeated-password",className:_e.a.field,value:m,onChange:function(e){return v(e.target.value)}}),Object(g.jsx)("br",{})]}),Object(g.jsxs)("div",{className:_e.a["button-container"],children:[Object(g.jsx)(ve,{onClick:function(e){return P.apply(this,arguments)},children:"Submit"}),Object(g.jsxs)(ve,{onClick:function(){k((function(e){return!e})),_&&n.indexOf("@")>-1?(l(n),r("")):_||n||!o||r(o),I.replace(_?"/accounts/signup":"/accounts/login")},children:["Switch to ",_?"Sign up":"Login"]})]}),_&&Object(g.jsx)("p",{className:"".concat(ye.a["small-text"]," ").concat(ye.a.pointer),onClick:function(){I.push("/accounts/password-reset")},children:"Forgot your password?"})]})]})]})}function Ne(){var e=Object(a.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),i=Object(s.a)(c,2),o=i[0],u=i[1],l=Object(C.f)();Object(a.useEffect)((function(){n||function(){var e=Object(A.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n]);var d=function(){var e=Object(A.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,K(!0);case 4:if(!e.sent){e.next=12;break}return e.next=8,W();case 8:t=e.sent,l.push("/songs/".concat(t)),e.next=13;break;case 12:alert("Oops! Your account isn't activated yet!");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),alert("Could not get activated status.");case 18:u(!1);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:Ae.a.container,children:[(!n||o)&&Object(g.jsx)(O,{}),Object(g.jsx)("h2",{className:ye.a.subtitle,children:"Your account is unactivated!"}),Object(g.jsxs)("p",{className:ye.a["plain-h4"],children:["An activation link has been sent to your inbox at\xa0",Object(g.jsx)("span",{className:ye.a.emphasis,children:n}),". Once you've pressed the link, click the button below to get started!"]}),Object(g.jsxs)("div",{className:Ae.a["horizontal-around"],children:[Object(g.jsx)(ve,{onClick:d,children:"Done!"}),Object(g.jsx)(ve,{onClick:function(){try{U.a.get("/api/auth/email/resend-activation",{withCredentials:!0}),alert("Email was resent!")}catch(e){alert("There was an error resending the email.")}},children:"Resend Email"})]})]})}U.a.defaults.xsrfCookieName="csrftoken",U.a.defaults.xsrfHeaderName="X-CSRFToken";var Ee=n(79),Be=n(24),Qe=n.n(Be),Ie=n(55),Te=n.n(Ie);function Re(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),r=n[0],c=n[1];return Object(g.jsxs)("div",{className:"".concat(Ae.a["vertical-center"]," ").concat(Ae.a["inline-block"]," ").concat(Ae.a.relative),onMouseEnter:function(){c(!0)},onMouseLeave:function(){c(!1)},children:[Object(g.jsx)("div",{className:"".concat(ye.a["nav-bar-link"]," ").concat(ye.a["nav-bar-hover"]),children:e.title}),Object(g.jsx)("div",{className:"".concat(Ae.a["vertical-center"]," ").concat(Te.a.option),children:r&&e.items&&e.items.map((function(t,n){return t.condition&&function(t,n){return Object(g.jsx)("div",{onClick:t.onClick,className:e.white?Te.a["white-option"]:Te.a["dropdown-option"],children:t.text},n)}(t,n)}))})]})}var Pe=n(61),Ue=n.n(Pe),Le=new V.a;function Ve(e){var t=Object(u.c)((function(e){return e.auth.username})),n=Object(a.useState)(!1),r=Object(s.a)(n,2),c=r[0],i=r[1],o=Object(C.f)(),l=Object(u.b)(),d=function(){o.push("/user/".concat(t))};Object(a.useEffect)((function(){t||W()}),[t]);var b=function(){var e=Object(A.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Le.remove("username"),Le.remove("email"),Le.remove("activated"),i(!0),e.prev=4,e.next=7,U.a.post("/api/auth/logout",{},{withCredentials:!0,headers:{"X-CSRFToken":F()}});case 7:l(R(null)),l(T(null)),o.push("/accounts/login"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),alert("There was an error logging out."),i(!1);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}(),p=[{text:Object(g.jsx)("div",{children:"Logout here."}),onClick:function(){return b()},condition:!0}],f=Object(g.jsx)(Re,{title:Object(g.jsxs)("div",{onClick:d,children:["Welcome\xa0\xa0",Object(g.jsx)("span",{className:ye.a.emphasis,children:t}),"."]}),items:p});return e.full||(f=Object(g.jsxs)("div",{className:Ue.a.container,children:[Object(g.jsx)("span",{className:"".concat(ye.a.emphasis," ").concat(ye.a.pointer," ").concat(Ue.a.name),onClick:d,children:t}),Object(g.jsx)("span",{onClick:b,className:ye.a.pointer,children:"Logout here."})]})),Object(g.jsxs)("div",{children:[c&&Object(g.jsx)(O,{}),f]})}function De(){var e=Object(u.c)((function(e){return e.selectedSong.isSongPage})),t=Object(u.c)((function(e){return e.selectedSong.songLink})),n=Object(u.c)((function(e){return e.songs.userSongs?e.songs.userSongs.find((function(e){return e.id===+t})):[]})),a=Object(C.f)(),r=Object(u.b)(),c=function(){var e=Object(A.a)(x.a.mark((function e(){var t,a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(S(!0)),e.next=4,U.a.get("/api/lyrics/".concat(n.artist,"**").concat(n.name));case 4:t=e.sent,a=t.data.trim(),r(pe(n.id,"pulled_lyrics",a)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),c=e.t0.response?e.t0.response.data:"An error occurred.",r(pe(n.id,"pulled_lyrics",c));case 13:return e.prev=13,r(S(!1)),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})));return function(){return e.apply(this,arguments)}}(),s=[{text:"Fetch Lyrics",onClick:function(){return c()},condition:e},{text:"Transfer Lyrics",onClick:function(){return function(){var e=n.pulled_lyrics;r(pe(n.id,"lyrics",e))}()},condition:e},{text:"Help",onClick:function(){a.push("/help")},condition:!0}];return Object(g.jsx)(Re,{title:"Options",items:s})}var Fe=n(145),We=n(92),qe=n(144),He=Object(We.a)({overrides:{MuiSlider:{thumb:{color:f},track:{color:d},rail:{color:"black"}}}});function Me(e){var t=e.existingValue,n=e.onChangeCommitted;return Object(g.jsx)(qe.a,{theme:He,children:Object(g.jsx)(Fe.a,{onChangeCommitted:n,style:{width:"100%"},defaultValue:null!==t&&void 0!==t?t:3,step:1,marks:!0,min:1,max:5})})}function Xe(){var e=Object(a.useRef)(),t=Object(a.useRef)(3),n=function n(){window.scrollBy(0,1),e.current=setTimeout(n,90/Math.sqrt(t.current))},r=function t(){clearTimeout(e.current),window.removeEventListener("mousemove",t)},c=[{text:Object(g.jsx)(Me,{onChangeCommitted:function(e,a){t.current=a,n(),window.addEventListener("mousemove",r)},existingValue:t.current}),onClick:function(){},condition:!0}];return Object(g.jsx)(Re,{title:"Auto Scroll",items:c,white:!0})}function ze(e){var t=Object(u.c)((function(e){return e.auth.username})),n=Object(u.c)((function(e){return e.selectedSong.isSongPage})),a=Object(u.c)((function(e){return e.auth.admin})),r=Object(u.c)((function(e){return e.selectedSong.isSongPageView})),c=Qe.a.container+" "+("row"===e.direction?Qe.a["container-horizontal"]:Qe.a["container-vertical"]),s=Qe.a["left-div"]+" "+("row"===e.direction?Qe.a["left-div-horizontal"]:Qe.a["left-div-vertical"]),i=ye.a["nav-bar-link"]+" "+ye.a["nav-bar-hover"]+" "+("row"===e.direction?Qe.a["link-horizontal"]:Qe.a["link-vertical"]),o=ye.a["nav-bar-link"]+" "+("row"===e.direction?Qe.a["login-row"]:Qe.a["login-column"]),d=Object(g.jsxs)("div",{className:c,children:[Object(g.jsxs)("div",{className:s,children:[!t&&Object(g.jsx)(l.b,{to:"/",className:i,children:"Home"}),t&&Object(g.jsx)(l.b,{to:"/songs/".concat(t),className:i,children:"Song List"}),Object(g.jsx)(l.b,{to:"/songs/public",className:i,children:"Public"}),a&&Object(g.jsx)(l.b,{to:"/songs/all",className:i,children:"Admin"}),"row"===e.direction&&Object(g.jsx)(De,{}),(n||r)&&"row"===e.direction&&Object(g.jsx)(Xe,{})]}),Object(g.jsx)("div",{children:t?Object(g.jsx)(Ve,{full:"row"===e.direction}):Object(g.jsx)(l.b,{to:"/accounts/login",className:o,children:"Login"})})]});return r&&"row"===e.direction?Object(g.jsxs)("div",{children:[d,Object(g.jsx)("div",{className:Qe.a.view,children:"View Only Mode"})]}):d}function Ge(e){var t=Object(g.jsx)(ze,{direction:"column"});return Object(g.jsx)(Ee.a,{sidebar:t,open:e.menuOpen,onSetOpen:e.changeSidebar,children:Object(g.jsx)("div",{children:e.children})})}function Ye(){return Object(g.jsx)("p",{children:"Error finding page. Please try again later."})}var Ke=n(46),Je=n.n(Ke);function Ze(){return Object(g.jsxs)("div",{className:Ae.a.container,children:[Object(g.jsx)("h1",{className:ye.a.title,children:"Help Page"}),Object(g.jsx)("h2",{className:ye.a.subtitle,children:"Song List Page"}),Object(g.jsxs)("div",{className:Je.a.border,children:[Object(g.jsxs)("div",{children:["You can find your Song List by clicking on the\xa0",Object(g.jsx)("span",{className:ye.a.italic,children:"Song List"})," section of the navigation bar. You can add a song by pressing the\xa0",Object(g.jsx)("span",{className:ye.a.italic,children:"ADD SONG"})," button in the top right corner, delete a song by pressing the trash can, toggle the public visibility by pressing the eye, and start making your songsheet by pressing the arrow at the right!"," "]}),Object(g.jsx)("br",{}),Object(g.jsx)("div",{children:"You can also filter your songs by pressing the mangifiying glass near the top left!"})]}),Object(g.jsx)("h2",{className:ye.a.subtitle,children:"Song Page"}),Object(g.jsxs)("div",{className:Je.a.border,children:[Object(g.jsxs)("div",{children:["The song page can be reached by pressing the right arrow on any one of your songs! Start by typing the name and artist of your song at the top of the page. In the options dropdown menu in the navigation bar, selecting\xa0",Object(g.jsx)("span",{className:ye.a.italic,children:"Fetching Lyrics"})," will fetch the lyrics of the song and artist you've inputted. The fetched lyrics will appear in the\xa0",Object(g.jsx)("span",{className:ye.a.italic,children:"Pulled Lyrics"})," section of the page. If the lyrics of your song cannot be fetched, another option is to type or copy the lyrics directly into the\xa0",Object(g.jsx)("span",{className:ye.a.italic,children:"Pulled Lyrics"})," section of the page."]}),Object(g.jsx)("br",{}),Object(g.jsxs)("div",{children:["Then, use the\xa0",Object(g.jsx)("span",{className:ye.a.italic,children:"Transfer Lyrics"})," option to move the pulled lyrics to the"," ",Object(g.jsx)("span",{className:ye.a.italic,children:"Lyrics section"}),", where you can then enter chords over each line."]}),Object(g.jsx)("br",{}),Object(g.jsx)("div",{children:"By default, you will be in regular mode. To switch, press the copy button on the left\u2014the second icon down. Here, you can quickly manipulate chords by copying or deleting. To select a chord to manipulate, simply click on its box. To select a sequence of inputs, click on an input to denote the starting point (highlighted in dark red), then press on the end input box while holding the ALT (on Windows) or OPTION key (on Mac). The toolbar can be found at the bottom of the page. To delete, simply choose the EMPTY option. To copy, choose the COPY or COPY UNTIL END option. Then, select the first of the destination inputs that will receive the copied chords. For example, if you select inputs 1 to 3, select COPY, then click the fourth input, the contents of inputs 1 to 3 will be copied to inpus 4 to 6. Lastly, the CLEAR option will deselect all chord boxes."}),Object(g.jsx)("br",{}),Object(g.jsx)("div",{children:"The chord inputs have been configured so that a period will move your cursor forward four spaces, a comma will move your cursor back four spaces, and enter will save the changes you've made."}),Object(g.jsx)("br",{}),Object(g.jsx)("div",{children:"Using auto-scroll is really simple! Press the auto scroll button in the top bar, select a speed, and the page will start scrolling! Simply move your mouse when you want the scroll to stop."})]}),Object(g.jsx)("h2",{className:ye.a.subtitle,children:"Public Page"}),Object(g.jsxs)("div",{className:Je.a.border,children:["You can find a public list of songsheets by clicking on the\xa0",Object(g.jsx)("span",{className:ye.a.italic,children:"Public"})," section of the navigation bar. You can only edit a public songsheet if you are the owner or were explicitly granted editing privelleges."]}),Object(g.jsx)("h2",{className:ye.a.subtitle,children:"Bugs"}),Object(g.jsxs)("div",{className:Je.a.border,children:["If you discover a bug, please email me at sam4button@gmail.com or report an issue on my\xa0",Object(g.jsx)("a",{href:"https://github.com/samliu21/lyrics-chords-heroku/issues",children:"GitHub page"}),"."]})]})}function $e(){var e=Object(C.f)();return Object(g.jsxs)("div",{className:Ae.a.container,children:[Object(g.jsxs)("h3",{className:ye.a["plain-h2"],children:["Hi, I'm ",Object(g.jsx)("span",{className:ye.a.emphasis,children:"Sam"})," and welcome to my website!"]}),Object(g.jsx)("h3",{className:"".concat(ye.a["plain-h2"]," ").concat(ye.a.emphasis," ").concat(ye.a.pointer),onClick:function(){e.push("/accounts/login")},children:"LOGIN/SIGNUP"}),Object(g.jsx)("p",{className:ye.a["plain-h3"],children:"As a fervent guitarist, I've discovered the need for customizable songsheets to store lyrics, chords, and strumming patterns, and so, I made this website to do exactly that!\xa0"}),Object(g.jsxs)("p",{className:ye.a["plain-h3"],children:["Start by logging in or signing up in the top right corner or clicking the\xa0",Object(g.jsx)("span",{className:"".concat(ye.a.emphasis," ").concat(ye.a.pointer),onClick:function(){e.push("/songs/public")},children:"Public"}),"\xa0tab in the navigation bar to look at other people's public song sheets!"]}),Object(g.jsxs)("p",{className:ye.a["plain-h3"],children:["Feel free to checkout the\xa0",Object(g.jsx)("span",{className:"".concat(ye.a.emphasis," ").concat(ye.a.pointer),onClick:function(){e.push("/help")},children:"Help"}),"\xa0page if you ever need a hand or want to see the full potential of this website!"]})]})}var et=n(63),tt=n.n(et);function nt(e){var t=Object(u.c)((function(e){return e.selectedSong.isSongPage})),n=Object(u.c)((function(e){return e.selectedSong.isSongPageView}));return Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:tt.a.container,children:[Object(g.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAO0AAADpCAYAAADI3LCZAAAAAXNSR0IArs4c6QAAAHhlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACWAAAAAQAAAJYAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAAO2gAwAEAAAAAQAAAOkAAAAADxTKiQAAAAlwSFlzAAAXEgAAFxIBZ5/SUgAAEKpJREFUeAHt3f9zFPUdx/Fw+XIGQgSCEXUQQfyuIOhoRy0E/aG0Tqed0bF2poGpxT/CP6Q/tdWqMy1tx2otKv0yipY6ai2gfGnliwjBr4QEDAn5dpe+XvF2Gs3t3u7dcnO5e35m3t6X3f3s7iO++OxtLrtNTTQEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBCofYF5aW/i1NRURn2m3m/a20l/CFRRYGrevHn5tNaXSrgUVG3TPD1MXaoNu151iWoqrY2kHwTmsIAzNqo6rIycC7JSyf5UHFptRJc2YIWqU7VOtVnl91L7l0V90RCYqwI+8jyj2qnaq/pSdUIB9ntltbJDq7Au0RpvUm1Q9aiW5PP5y1QrWlpa9JKGAAIzBE7o+WnVgGqX6g3VfxRev07UEodWYV2qNfgQ+H7VRtUtqitUweFw4j61LA2BeheYmY9PtbMHVa+rXlX50Llfj7FaooApsNep10dVHl1vVS1TeWMS9aP5aQg0skCQmc+EcEDlUXe7gnskDkrs41gFdrU63HL27Nnetra2FfPnz5/5L0ecdTEPAgh8JRAMcpfncrllk5OT12Wz2TZl7GkF92gppGDhyPkKI+yW8fHx3ubm5hWqyPmZiAACiQVOaIlnVSWDWzK0Cqw/v25R9aquVtEQQOAiCChrJ0ZHR7fr8bkFCxb8K2wVkYfHWvgyLfiw6icqAhumyPsIpCDg37yom22tra3+vkNoaDMl1rVQ029WdZeYj8kIIFChgD92KrBdR48eXRvVVanQenprVAdMQwCB9AT8HYfly5e3RfVYKrReNjhLHNUP0xBAICWBjo6OyMzFCW1Km0I3CCCQhgChTUORPhCoogChrSI2q0IgDQFCm4YifSBQRQFCW0VsVoVAGgKENg1F+kCgigKEtorYrAqBNAQIbRqK9IFAFQUIbRWxWRUCaQgQ2jQU6QOBKgoQ2ipisyoE0hAgtGko0gcCVRQgtFXEZlUIpCFAaNNQpA8EqihAaKuIzaoQiCMwMTEReRmoUqH13/Xl46yIeRBAoHIBXeKpqa+vLxfVU6nQjmjhD1VDUZ0wDQEE0hHQJVQvrFq16oOo3iIv7KYOPlXy/6AOfK2oH6t8oTcaAghcHIEv1O1zqt9HdR957BwsqOCu0fPHVA4uF3kLYHhEID0BB/a3qic1WL4f1W2s0LoDBfc2PQTBvTyqU6YhgEAigc81dxDY/aWWjB1ad1QI7k/11COu7+NDQwCBygR8Px8H9imNsCUD61UlCq0XKATXdxvoUfnuA76wMg0BBJIJnNPsh1W7VM/GDazmTR5aL6TgLteDD5d7XLqJ0GpdaHmxntMQQCBaYFCTfZOtXYXar8D26Xnslnikdc8KrZfLqK5Q+Wro9+m9TVr54rGxsUUKcbfuqqe3aQg0toC+KNGkXHyhi5CflYQD+5pqt+o9le9Tm9f0yOsca56vtbJCG/RQCK9voefw3qC6VPcjuU21WRvpO8XzxQwh0BpWIKMBbECh3JnJZPx51YfEH6gc1lzSsGqZ6VZRaINOCuENbh/Spfc9+nqoTfQvSNAfjwjUiYDz5S8oeVQ9U9iniXLDWli+vM+0wcJhjwqx70Xiw2caAo0u4MPf8UZHYP8RQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBC6KQCo3lQ62rHBz6W69blFxQ+kAhsdGFnDGJlVfVHoz6QDR4aqoKajN6mDJhQsXLtHj9aoe1WJVXkVDoNEFfHP1QdWukZGRw+3t7aN6PqAA58qFKXukVVgdeI+qt6vuVi0ZHx9fncvl7tSGZfWakVYItIYXmDc5OTmmkL7b3Nx8TBpnVG+r9qk8+noUTtQSh1ZhbdUalqrWqe5VfUt1myqbz+ezmUzGgaUhgMAMAeXGwR3TW679qrdU/1TtVfVr2oQeY7VEodWKO9Xrt1UOqgN7q8qHwhUfZqsPGgKNIuDR1YfMB1QOrgP8DwX3Sz2WbLFDq8B2qLcHh4eHf9bS0rIum80u0Wsfr9MQQKA8AR2c5gdUe5WpX6mLlxTc86W6ijVCBoHV59XH1eEGBdaHyDQEEKhMQJ8mM0uVrx51Mz0A6vkOBXc4qtuSoQ0Cq04e1/MNCxYsILBRokxDIKGATlA5UxuUr6aJiYmMHv+i4A6EdRMZWi3s6ZtVHmE3agiPnD9sJbyPAAIlBVo9KOpotl3B9UfPn4ctUeoz6Uot+F2VTzoR2DBF3kcgBQEdKre2tbXdMzAw8MOo7kJDq9T7SxP+HewaFYfEUYpMQyAlAR0qNw0NDXVFdRcaWi10rcqj7C0qB5iGAAJVEFi9enUuajVFQ6tR1u97hPWXJhhlowSZhkCVBYqGVtvgz7LfU/nLE3yWFQINgVoRCAvtfG3gMlXY9FrZfrYDgYYTCAulP8/yjaeG+9+BHZ4LArNCq8+z12nDf6DymWMOjefCT5FtbCiBWaHV3vvvYq9UFZvWUDjsLAK1KBAWTP4WthZ/WmwTAhIICy04CCBQowKEtkZ/MGwWAmECYaGN/Xe2YR3zPgIIXByBYqH1hac+0fcf8zqTfHHWSq8IIFC2wKzQ6u/4jqi3P3V0dOzT88QXnSp7S1gQAQRiCcwKbWGpY4U/wuUyqLEYmQmB6gmEhXZEm/CZLolKaKv3s2BNCMQSCAvtcS39Smtrq68WxyFyLEpmQqA6AkVDq0Pj/NjY2Hu6yPKBwcFBTkhV52fBWhCYFujv74/8+/WiofWSuuLiMV3+4s/z58/fpbPIjLb8D4VAlQQWLlx4OmpVoX8QoNE2p7Du1OUvgmBvUkf8QXyUJtMQqExgXIu/pQHz+ahuQkPrhRTcEQX35RkdENwZGDxFIEUB3xbkNZUvWv63qH4jQ+sFiwS3R2+3eRoNAQRSEfAIu0v1S9XLzpweQ1vJ0HrJbwR3Stdm3aTDZoIbysoEBGILOLAeYWMF1r3GCq1nLAT3FT3VEfOU70Fyp05U+eoWkWe6vCwNAQRmCfiKi76LwLsqHxLvLDXCap7plvgPAxRY34jrPtU9hfJVG7lznhBoCMQQ8G9ifMe891VvFmq3Alvyxluad7olDq2XUnB9FtkXVPYlaRzguwrPszp0zmp6ljuISITW8ALKgvMypqPS4N60+4Tyjmq3ys/PKLA+CRW7lRXaoHdtjA+Nu1W+PrJH3i599XGlbod5d2dnZ5uvlk5DoJEFRkZGxnWrj7c1iPlbhr4LvEdX31Tad4GPvCi55inaKgpt0KPC69/leuTN6ltUvjDcJm1klz/46l+YYDYeEWg0Af/P76D6RJP/es6jrUfWir7Tn0potSFfa+fPn798dHS0pb29fUrfqPraNF4g0EACztekQvp5A+0zu4oAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAgggUD2Bi3J/Wt1kuk274BvqTlVvV1gTAjUp4IzldY/a8bS2ruLQKqDuo3XGBvmO8GtUC1QV3fF6Rp88RWCuCnjwGlHtV51WeSDzjabLHtDKDm0hrM3agKtUN6g8uroc2M2qJSpCKwRaQwtklJVBhfSvUnhPdVZ1RPWxKldOeCsJ7dVaqQO6UbVB1alyc1i7p5/xHwQQmBbI5/OnM5nMoF44tG+oXle9rzqlmkoS3kSh9ejqztVu1Yp69fiAXq/W80tVNAQQiCdwTrN5tHV4X1UdUI5O6DFWSxraFer1JtXm8fHxR9ra2q6ItRZmQgCBYgJf6s3DKof3WQV3X7GZvvle7NBqVF2nhXsV1nubm5tvVAWHw9/sk9cIIJBAYGJi4nRra+t2LfJknODGCm0hsI+NjY09ms1mlybYHmZFAIF4Av2aLQju3qhFSoZWgV2vDh5T/UhFYKM0mYZABQI6WdWvI9k/qovftbe3+7Nu0ZYp+m7hTQXWn1kf1gj7iB4JbBQW0xCoUECHxs7YVp1l9iAZ2iJDq6WuUa3VCSc+v4YSMgGBdAQU2iZVds+ePddH9RgaWo2yy7Tg91V3u6OoTpiGAALpCOicUdMdd9wR+bE1NLTahFWq21Ud6WwOvSCAQBwBnUmOnK1oaDXKXqmlPMrepWKUjSRkIgLVFSgaWm3CQpW/T+xHGgII1JBAWGh9FssnnyKPrWtoP9gUBBpGYFZoCyegviMBf784+uC6YZjYUQRqR2BWaLVp/ntYn4DyIw0BBGpMoFho/d4lqrL/SLfG9pHNQaCuBIqF1juYr6u9ZGcQqCOBsNDW0S6yKwjUl0Cx0PqMcbH362vP2RsE5qjArHAeOnRoUvtyXn8kwK975ugPlc2ub4FZoX3xxRc/7evre1O/+jml4mRUff/82bs5KDArtE888cTgCy+88MZHH310JJfLTczBfWKTEahrgVmh9d52d3efPXny5LnJyUnOItf1j5+dm4sCRUOrz7Nn1q5du+fUqVMTCu5c3C+2GYG6FSga2q1bt57ZsWPHzoMHDx4bHh6u251nxxCoRQFdcibyJHDR0BZ25ERPT89vzp07d1yd1OK+sU0I1KXA0NBQZOBawvZ627ZtA/or+ud1qNzx0EMPbdElZ64Jm5f3EUAgNYHTXV1d/47qLWqkbert7T2qM8jPqIOnVcejOmIaAghULOCM/UL1VFRPvoFWZNNn20FdzvHk+vXrmzTyrtDMiyMXYCICCJQj4MB6gPy1rsl2KKqDyA+8MxfU9yxW6fWWQq2cOY3nCCBQkUAQ2GcU2A9L9RQ7tO5IwXVYe1UO77V+S5WoD81PQwCB/ws4pE+rfC8fh7dkSxy4wojruw1sUt2i8kXgCK8QaAjEEHBWpkZGRjL6DsSxzs5OHxLHDqz7TxxaL6Tg+h60vvDbRtX9qptVV6m8QW5l9fvVovwXgboTmJmLPu3dJyrfp/Z11fa4I6zmnW4VhUvh9UmpG1X3qR5Qdel3ul36V2TlokWL9JKGQGML+MtJ+nXpcV3L+IwkXH9XvaPyPWo/VmB9461EraLQBmsqhHelXvuSq2v0+kFtjK/omA/m4RGBBhTIKAv9ysJL2nff9X1IdVyvB/W+HuYFI3AimlRC6zUGG6FHB9ejL9eZMgytkQWcr1HVfxXQoSAjlYKkFtqZG6KNy+j1Rel75np4jsAcEPCQyhHnHPhBsYkIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCKQr8D93cKmzUKkrYwAAAABJRU5ErkJggg==",alt:"menu",className:tt.a.image,onClick:e.onMenuClick}),Object(g.jsxs)("div",{children:[Object(g.jsx)(De,{}),(t||n)&&Object(g.jsx)(Xe,{})]})]})})}function at(){return Object(g.jsx)("div",{className:Ae.a["fixed-top"],children:Object(g.jsx)(ze,{direction:"row"})})}var rt=n(5),ct=n(26),st=n(52),it=n(28),ot=n.n(it);function ut(e){var t=Object(u.b)(),n=Object(C.f)(),r=n.location.pathname.split("/"),c=r[r.length-1],s=Object(a.createRef)(),i=Object(a.createRef)();function o(){return(o=Object(A.a)(x.a.mark((function n(){var a;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t(be(e.item.id)),n.next=4,W();case 4:a=n.sent,localStorage.removeItem(a),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),alert("There was an error deleting the song");case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))).apply(this,arguments)}var l=function(){var t=Object(A.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==e.item.artist&&""!==e.item.name){t.next=3;break}return alert("Please enter a song name and artist before proceeding!"),t.abrupt("return");case 3:n.push(e.editable?"/songs/".concat(e.item.creator,"/").concat(e.item.id):"/songs/".concat(e.item.creator,"/").concat(e.item.id,"/view"));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d=function(){var n=s.current.value,a=i.current.value,r=e.item.id;if(e.item.name!==n||e.item.artist!==a){var c=n!==e.item.name?"name":"artist",o=n!==e.item.name?n:a;t(pe(r,c,o)),z(r,c,o)}},b=function(e){"Enter"===e.key&&(e.preventDefault(),e.target.blur())},p=function(t){return e.item.is_favourite?Object(g.jsx)(ct.b,Object(rt.a)({},t)):Object(g.jsx)(ct.h,Object(rt.a)({},t))},f=function(t){return e.item.public?Object(g.jsx)(ct.d,Object(rt.a)({},t)):Object(g.jsx)(ct.e,Object(rt.a)({},t))},j=e.editable?{}:{readOnly:!0};return Object(g.jsxs)("div",{className:ot.a["song-container"],children:[Object(g.jsxs)("div",{className:Ae.a["horizontal-default"],children:[e.editable&&Object(g.jsxs)("div",{className:ot.a["button-container"],children:[Object(g.jsx)(p,{onClick:function(){z(e.item.id,"is_favourite",!e.item.is_favourite),t(pe(e.item.id,"is_favourite",!e.item.is_favourite))}}),Object(g.jsx)(f,{onClick:function(){""!==e.item.artist&&""!==e.item.name?(z(e.item.id,"public",!e.item.public),t(pe(e.item.id,"public",!e.item.public)),t(me(e.item.id))):alert("Please enter a song name and artist before publicizing!")},className:ot.a.eye}),Object(g.jsx)(st.b,{onClick:function(){return o.apply(this,arguments)}})]}),Object(g.jsxs)("div",{className:Ae.a["vertical-default"],children:[Object(g.jsx)("input",Object(rt.a)({className:ot.a.name,defaultValue:e.item.name,placeholder:"Enter an artist",onBlur:d,onKeyDown:b,ref:s},j)),Object(g.jsx)("input",Object(rt.a)({className:ot.a.artist,defaultValue:e.item.artist,placeholder:"Enter an artist",onBlur:d,onKeyDown:b,ref:i},j)),e.public&&Object(g.jsxs)("div",{className:ot.a.creator,children:["Created by\xa0",Object(g.jsx)("span",{className:ot.a["creator-name"],children:e.item.creator}),"."]})]})]}),Object(g.jsxs)("div",{className:ot.a["image-container"],onClick:l,children:[Object(g.jsx)("img",{src:"https://i.pinimg.com/originals/58/1d/34/581d34b9daddc9f6eec84accc93c7a0c.png",alt:"Arrow",className:ot.a.arrow}),"public"===c&&null!==e.views&&Object(g.jsx)("p",{className:ot.a.views,children:e.views})]})]})}var lt=n(93),dt=n(84),bt=n.n(dt);function pt(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(""),o=Object(s.a)(i,2),l=o[0],d=o[1],b=e.public?function(e){return e.songs.publicSongs}:function(e){return e.songs.userSongs},p=Object(u.c)(b),f=Object(u.b)(),j=Object(C.f)();Object(a.useEffect)((function(){var e=j.listen((function(){c(!1),d("")}));return function(){return e()}}),[j]);var h=function(){d(""),e.public?f(fe("reset")):f(je("reset"))},m=function(){r?""!==l?function(){var t=new lt.a(p,["name","artist","creator"],{caseSensitive:!1,sort:!0}).search(l);e.public?f(fe(t)):f(je(t))}():h():c(!0)};return Object(g.jsxs)("div",{className:ye.a["sidebar-container"],children:[r&&Object(g.jsx)(ct.a,{className:ye.a["sidebar-icon"],onClick:function(){c(!1)}}),r&&Object(g.jsx)("input",{value:l,className:bt.a.input,placeholder:"Filter here",onChange:function(e){d(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(e.target.blur(),e.preventDefault(),m())}}),r&&Object(g.jsx)(ct.c,{className:ye.a["sidebar-icon"],onClick:h}),Object(g.jsx)(ct.g,{className:ye.a["sidebar-icon"],onClick:m,children:"Search"})]})}function ft(){var e=Object(u.c)((function(e){return e.auth.admin})),t=Object(u.c)((function(e){return e.songs.views})),n=Object(u.c)((function(e){return e.songs.filteredPublicSongs})),r=Object(u.c)((function(e){return e.auth.username})),c=Object(u.b)();return Object(a.useEffect)((function(){var e=function(){var e=Object(A.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.map((function(e){return e.id})),e.next=3,U.a.post("/api/views/get_all_views",{ids:t},{withCredentials:!0,headers:{"Content-Type":"application/json","X-CSRFToken":F()}});case 3:a=e.sent,c(he(a.data));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n&&!t&&e()}),[n,c,t]),Object(a.useEffect)((function(){return function(){return c(fe("reset"))}}),[c]),n?Object(g.jsxs)("div",{className:Ae.a.container,children:[Object(g.jsx)(pt,{public:!0}),Object(g.jsx)("h1",{className:ye.a.title,children:"Public Songs"}),n.map((function(n){var a=r===n.creator||e?{editable:!0}:{};return Object(g.jsx)(ut,Object(rt.a)({id:n.id,views:t?t[n.id]:null,item:n,public:!0},a),n.id)}))]}):Object(g.jsx)(O,{})}var jt=n(64),ht=n.n(jt);function mt(){var e=Object(a.createRef)(),t=function(){var t=Object(A.a)(x.a.mark((function t(){var n,a,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.current.value,t.prev=1,t.next=4,U.a.post("/api/auth/email/password-reset",{email:n},{headers:{"Content-Type":"application/json","X-CSRFToken":F()}});case 4:a=t.sent,alert(a.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),alert(null!==(r=t.t0.response.data)&&void 0!==r?r:"There was an error sending the email.");case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:Ae.a.container,children:[Object(g.jsx)("h2",{className:ye.a.title,children:"Password Reset"}),Object(g.jsx)("p",{className:ye.a.italic,children:"Forgotten your password? Enter your email address below, and we'll email instructions for setting a new one."}),Object(g.jsxs)("div",{className:Ae.a["horizontal-default"],children:[Object(g.jsx)("p",{className:ht.a.text,children:"Email address:"}),Object(g.jsx)("input",{ref:e,className:ye.a["purple-input"]})]}),Object(g.jsx)(ve,{onClick:t,className:ht.a.button,children:"Reset my password!"})]})}var gt=n(56),Ot=n.n(gt);function vt(e){var t=Object(a.createRef)(),n=Object(a.createRef)(),r=Object(C.f)(),c=Object(u.b)(),s=function(){var a=Object(A.a)(x.a.mark((function a(){var s,i,o,u,l,d,b;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s=e.match.params,i=s.uid,o=s.token,u=t.current.value,l=n.current.value,u===l){a.next=8;break}return alert("Passwords don't match!"),a.abrupt("return");case 8:return a.prev=8,a.next=11,U.a.post("/api/auth/email/password-change",{uid:i,token:o,password:u},{headers:{"Content-Type":"application/json","X-CSRFToken":F()}});case 11:d=a.sent,alert(d.data),c(R(null)),c(T(null)),r.push("/accounts/login"),a.next=22;break;case 18:a.prev=18,a.t0=a.catch(8),console.log(a.t0.response),alert(null!==(b=a.t0.response.data)&&void 0!==b?b:"There was an error resetting your password.");case 22:case"end":return a.stop()}}),a,null,[[8,18]])})));return function(){return a.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:Ae.a.container,children:[Object(g.jsx)("h2",{className:ye.a.title,children:"Password Change"}),Object(g.jsxs)("div",{className:Ae.a["horizontal-default"],children:[Object(g.jsx)("p",{className:Ot.a.text,children:"Password:"}),Object(g.jsx)("input",{className:ye.a["purple-input"],ref:t,type:"password"})]}),Object(g.jsxs)("div",{className:Ae.a["horizontal-default"],children:[Object(g.jsx)("p",{className:Ot.a.text,children:"Retype Password:"}),Object(g.jsx)("input",{className:ye.a["purple-input"],ref:n,type:"password"})]}),Object(g.jsx)(ve,{onClick:s,className:Ot.a.button,children:"Submit"})]})}var xt=n(47),At=n.n(xt),Ct=n(85),yt=n.n(Ct);function wt(e){return Object(g.jsx)("p",Object(rt.a)(Object(rt.a)({},e),{},{className:yt.a.text,children:e.children.toUpperCase()}))}var _t=n(86),kt=n.n(_t);function St(e){var t,n;return Object(g.jsxs)("div",{children:[!e.noLines&&Object(g.jsx)("hr",{}),Object(g.jsx)("textarea",{rows:null!==(t=e.lineCount)&&void 0!==t?t:4,className:kt.a.input,maxLength:500,defaultValue:null!==(n=e.defaultValue)&&void 0!==n?n:"",ref:e.refName}),!e.noLines&&Object(g.jsx)("hr",{})]})}function Nt(e){var t=e.match.params.username,n=Object(u.c)((function(e){return e.auth.username})),r=Object(a.useState)(),c=Object(s.a)(r,2),i=c[0],o=c[1],l=Object(a.useState)(!0),d=Object(s.a)(l,2),b=d[0],p=d[1],f=Object(a.useState)("About"),j=Object(s.a)(f,2),h=j[0],m=j[1],O=Object(a.useState)(),v=Object(s.a)(O,2),y=v[0],w=v[1],_=Object(a.useState)(),k=Object(s.a)(_,2),S=k[0],N=k[1],E=Object(a.useRef)(),B=Object(C.f)();Object(a.useEffect)((function(){(function(){var e=Object(A.a)(x.a.mark((function e(){var n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.get("/api/auth/get_image/".concat(t));case 3:n=e.sent,a=n.data,N(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:p(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){var e=B.listen((function(){o(null)}));return function(){return e()}}),[B]),Object(a.useEffect)((function(){(function(){var e=Object(A.a)(x.a.mark((function e(){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.get("/api/auth/about/".concat(t),{withCredentials:!0});case 3:n=e.sent,w(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(a.useEffect)((function(){(function(){var e=Object(A.a)(x.a.mark((function e(){var a,r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=localStorage.getItem(t))){e.next=4;break}return o(a),e.abrupt("return");case 4:return e.prev=4,e.next=7,U.a.get("/api/songs/".concat(t,"/count/"),{username:t});case 7:r=e.sent,c=r.data,o(c),localStorage.setItem(t,c),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),e.t0.response&&e.t0.response.data?alert(e.t0.response.data):alert("There was an error loading the page."),B.push("/user/".concat(n));case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}})()()}),[t,B,n]);var Q=function(){var e=Object(A.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,U.a.get("/api/auth/email/password-change-link");case 3:t=e.sent,n=t.data,p(!1),B.push(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(A.a)(x.a.mark((function e(){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=E.current.value,w(n),e.prev=2,e.next=5,U.a.post("/api/auth/set_about",{username:t,about:n},{withCredentials:!0,headers:{"Content-Type":"application/json","X-CSRFToken":F()}});case 5:m("About"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0.message),alert("Biography couldn't save!");case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(A.a)(x.a.mark((function e(n){var a,r,c,s,i,o,u;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=n.target.files[0]).size>1e5)){e.next=4;break}return alert("Image is too large! Please try again."),e.abrupt("return");case 4:if(r=["jpg","png"],c=a.name.split("."),(s=c[c.length-1].toLowerCase())&&-1!==r.indexOf(s)){e.next=11;break}return alert("Invalid file type."),n.target.value="",e.abrupt("return");case 11:return(i=new FormData).append("image",a),i.append("username",t),e.prev=14,e.next=17,U.a.post("/api/auth/images/",i,{withCredentials:!0,headers:{"X-CSRFToken":F()}});case 17:o=e.sent,u=o.data.url,N(u),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(14),console.dir(e.t0.response);case 25:case"end":return e.stop()}}),e,null,[[14,22]])})));return function(t){return e.apply(this,arguments)}}();if(!i||null===y)return Object(g.jsx)("p",{});var R=function(e,t){var n=At.a["menu-button"]+" "+(h===e?At.a["menu-button-active"]:"");return Object(g.jsx)("p",{className:n,onClick:function(){t&&t(),m(e)},children:e})};return b?Object(g.jsx)("p",{}):Object(g.jsxs)("div",{className:Ae.a.container,children:[Object(g.jsxs)("div",{className:"".concat(Ae.a["horizontal-end"]),children:[R("About"),R("Edit Profile")]}),Object(g.jsx)("hr",{className:"".concat(Ae.a["no-margin"])}),Object(g.jsxs)("div",{className:Ae.a["horizontal-default-start"],children:[Object(g.jsxs)("div",{className:Ae.a["vertical-default"],children:[Object(g.jsx)("img",{src:null!==S&&void 0!==S?S:"https://hoursproject.com/cache/images/square_thumb/images/user/default.png",alt:"profile-pic",className:At.a.picture}),"Edit Profile"===h&&Object(g.jsxs)("label",{class:At.a["file-upload"],children:["CUSTOM UPLOAD",Object(g.jsx)("input",{type:"file",id:"image",onChange:T})]})]}),Object(g.jsxs)("div",{className:Ae.a["full-width"],children:[Object(g.jsx)("h2",{className:"".concat(ye.a["plain-h2"]," ").concat(ye.a.italic),children:t}),Object(g.jsxs)("p",{children:[Object(g.jsx)("span",{className:ye.a.italic,children:"Songsheets created:"}),"\xa0\xa0",i]}),Object(g.jsx)("h2",{className:ye.a.subtitle,children:"About"}),"Edit Profile"===h?Object(g.jsxs)("div",{children:[Object(g.jsx)(St,{refName:E,lineCount:10,noLines:!0,defaultValue:y}),Object(g.jsx)(ve,{onClick:I,className:Ae.a["align-block-right"],children:"Save"})]}):Object(g.jsx)("p",{className:ye.a["white-space"],children:""===y?"No biography.":y})]})]}),t===n&&"About"===h&&Object(g.jsx)(wt,{onClick:Q,children:"Change Password"})]})}function Et(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(u.b)();function i(){return(i=Object(A.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,W();case 3:t=e.sent,c(de(t)),setTimeout((function(){return r(!1)}),500);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(g.jsxs)("div",{children:[n&&Object(g.jsx)(O,{}),Object(g.jsx)(wt,{onClick:function(){return i.apply(this,arguments)},children:"Add Song"})]})}function Bt(e){var t,n=e.match.params.username,r=Object(a.useState)(!1),c=Object(s.a)(r,2),i=c[0],o=c[1],l=Object(u.c)((function(e){return e.auth.admin})),d=Object(C.f)(),b="all"===d.location.pathname.split("/")[2];t=b?function(e){return i&&e.songs.filteredSongs?e.songs.filteredUserSongs.filter((function(e){return e.is_favourite})):e.songs.filteredUserSongs}:function(e){return e.songs.filteredUserSongs?i?e.songs.filteredUserSongs.filter((function(e){return e.is_favourite&&e.creator===n})):e.songs.filteredUserSongs.filter((function(e){return e.creator===n})):null};var p=Object(u.c)(t),f=Object(u.b)();if(Object(a.useEffect)((function(){(function(){var e=Object(A.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:if(e.sent){e.next=6;break}return d.push("/accounts/confirm-email"),e.abrupt("return");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[d]),Object(a.useEffect)((function(){var e=d.listen((function(){f(je("reset"))}));return function(){return e()}}),[f,d]),Object(a.useEffect)((function(){(function(){var e=Object(A.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:t=e.sent,!1===l&&t!==n&&d.push(t?"/songs/".concat(t):"/accounts/login");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n,d,f,p,l]),!p)return Object(g.jsx)(O,{});return Object(g.jsxs)("div",{className:Ae.a.container,children:[Object(g.jsxs)("div",{className:Ae.a["horizontal-between"],children:[!b&&Object(g.jsx)(wt,{onClick:function(){o((function(e){return!e}))},children:i?"ALL":"FAVOURITES"}),!b&&Object(g.jsx)(Et,{})]}),Object(g.jsx)(pt,{}),Object(g.jsx)("h1",{className:ye.a.title,children:b?"All Songs":"Your "+(i?"Favourite ":"")+"Songs"}),p.map((function(e){return Object(g.jsx)(ut,{item:e,editable:!0},e.id)}))]})}var Qt="GET_COMMENTS",It="DELETE_COMMENT",Tt="EDIT_COMMENT",Rt=function(e,t,n,a){return function(){var r=Object(A.a)(x.a.mark((function r(c){var s,i;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,U.a.post("/api/comments/",{songId:e,user:t,contents:n,parent:a},{withCredentials:!0,headers:{"X-CSRFToken":F(),"Content-Type":"application/json"}});case 3:s=r.sent,i=s.data,c({type:Qt,songId:e,comments:[i]}),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),alert("There was an error submitting your comment."),console.log(r.t0.message);case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()},Pt=n(45),Ut=n(65),Lt=n.n(Ut);function Vt(e){return Object(g.jsxs)("div",{className:e.border?Lt.a.container:"",children:[e.title&&Object(g.jsx)("h3",{className:Lt.a.heading,children:e.title}),Object(g.jsx)(St,{refName:e.refName,defaultValue:e.defaultValue}),e.cancelHandler?Object(g.jsxs)("div",{className:Ae.a["horizontal-between"],children:[Object(g.jsx)(ve,{onClick:e.cancelHandler,children:"Cancel"}),Object(g.jsx)(ve,{onClick:e.submitHandler,children:"Submit"})]}):Object(g.jsx)(ve,{onClick:e.submitHandler,className:Ae.a["align-block-right"],children:"Submit"})]})}var Dt=n(35),Ft=n.n(Dt);function Wt(e){var t=Object(u.c)((function(e){return e.auth.username})),n=Object(a.useState)(!1),r=Object(s.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)(!1),l=Object(s.a)(o,2),d=l[0],b=l[1],p=Object(a.useRef)(),f=Object(a.useRef)(),j=e.songId,h=e.commentUsername,m=e.comment,O=m.contents,v=m.date_of_creation,C=m.id,y=m.edited,w=m.children,_=Object(u.b)(),k=(w||[]).map((function(e){return Object(g.jsx)(Wt,{songId:j,commentUsername:e.username,comment:e},e.id)}));return Object(g.jsxs)("div",{className:Ft.a["outer-container"],children:[Object(g.jsxs)("div",{className:Ft.a.container,children:[Object(g.jsxs)("div",{className:Ft.a["horizontal-container"],children:[Object(g.jsxs)("div",{className:Ae.a["horizontal-center"],children:[Object(g.jsx)("div",{className:ye.a.emphasis,children:h}),Object(g.jsxs)("div",{children:["\xa0 ",y?"edited":"commented","\xa0",function(){var e=new Date(v),t=new Date,n=t-e;if(e.getDate()===t.getDate()){var a=n/36e5;if(a<1){var r=Math.round(60*a);return 0===r?"now":1===r?"1 minute ago":"".concat(r," minutes ago")}return 1===Math.round(a)?"1 minute ago":"".concat(Math.round(a)," hours ago")}var c=Math.round(n/36e5/24);if(c<=30)return 1===c?"1 day ago":"".concat(c," days ago");var s=Math.round(c/30);return s<=12?1===s?"1 month ago":"".concat(s," months ago"):"on ".concat(e.getFullYear(),"/").concat(e.getMonth(),"/").concat(e.getDate)}()]})]}),Object(g.jsxs)("div",{className:Ae.a["horizontal-center"],children:[t===h&&Object(g.jsx)(Pt.b,{onClick:function(){i(!0)},className:"".concat(ye.a.pointer)}),t===h&&Object(g.jsx)(Pt.c,{onClick:function(){_(function(e,t){return function(){var n=Object(A.a)(x.a.mark((function n(a){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{U.a.delete("/api/comments/".concat(e,"/"),{withCredentials:!0,headers:{"X-CSRFToken":F(),"Content-Type":"application/json"}}),a({type:It,songId:t,id:e})}catch(r){console.log(r)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(C,j))},className:"".concat(ye.a.pointer," ").concat(Ft.a.trash)}),t&&Object(g.jsx)(st.a,{onClick:function(){b(!0)},className:"".concat(ye.a.pointer)})]})]}),c?Object(g.jsx)(Vt,{refName:p,submitHandler:function(){var e=p.current.value;""!==e?(O!==e&&_(function(e,t,n){return function(){var a=Object(A.a)(x.a.mark((function a(r){var c,s;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,console.log("Hello!"),a.next=4,U.a.patch("/api/comments/".concat(t,"/"),{contents:n},{withCredentials:!0,headers:{"X-CSRFToken":F(),"Content-Type":"application/json"}});case 4:c=a.sent,s=c.data.date_of_creation,r({type:Tt,songId:e,contents:n,time:s,id:t}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0.message);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(j,C,e)),i(!1)):alert("Comment cannot be empty.")},cancelHandler:function(){i(!1)},defaultValue:O}):Object(g.jsxs)("div",{children:[Object(g.jsx)("hr",{}),O]})]}),Object(g.jsx)("div",{className:Ft.a.children,children:k}),d&&Object(g.jsx)("div",{className:Ft.a["reply-container"],children:Object(g.jsx)(Vt,{title:"Replying",refName:f,cancelHandler:function(){b(!1)},submitHandler:function(){_(Rt(j,t,f.current.value,C)),b(!1)},border:!0})})]},C)}function qt(e){var t=Object(u.c)((function(e){return e.auth.username})),n=Object(a.useRef)(),r=Object(a.useState)(!1),c=Object(s.a)(r,2),i=c[0],o=c[1],l=Object(u.b)(),d=e.id,b=Object(u.c)((function(e){return d&&e.comments.comments&&e.comments.comments[d]?e.comments.comments[d]:null}));Object(a.useEffect)((function(){d&&!b&&l(function(e){return function(){var t=Object(A.a)(x.a.mark((function t(n){var a,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.a.get("/api/comments/".concat(e,"/get_song_comments/"));case 3:a=t.sent,r=a.data,n({type:Qt,songId:e,comments:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(d))}),[l,b,d]);var p=function(){var e=Object(A.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!0),l(Rt(d,t,n.current.value,null)),n.current.value="",setTimeout((function(){return o(!1)}),500);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return b&&Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{className:ye.a["song-subtitle"],children:"Comments"}),0===b.length?Object(g.jsx)("p",{children:"No comments."}):b.map((function(e){return Object(g.jsx)(Wt,{songId:d,commentUsername:e.username,comment:e},e.id)})),t&&Object(g.jsx)(Vt,{title:"New comment",refName:n,submitHandler:p,border:!0}),i&&Object(g.jsx)(O,{})]})}var Ht=n(87);function Mt(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(a.useRef)();Object(a.useEffect)((function(){return function(){clearInterval(i.current)}}),[]);var o=e.WrappedComponent,u={top:e.top,backgroundColor:e.backgroundColor},l={color:e.color};return Object(g.jsxs)("div",{className:ye.a["sidebar-container"],style:u,onClick:function(){i.current||(c(!0),clearInterval(i.current),i.current=setInterval((function(){c(!1),clearInterval(i.current),i.current=null}),e.time),e.onClick())},children:[r&&Object(g.jsx)("p",{className:ye.a["sidebar-text"],children:e.text}),Object(g.jsx)(o,{className:ye.a["sidebar-icon"],style:l})]})}function Xt(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),r=n[0],c=n[1];return Object(g.jsx)(Mt,{WrappedComponent:Ht.a,text:r?"Edit mode!":"Regular mode!",top:200,onClick:function(){e.onClick(),c((function(e){return!e}))},backgroundColor:d,color:"white",time:500})}function zt(){var e=Object(C.f)();return Object(g.jsx)(Mt,{WrappedComponent:Pt.a,text:"",top:250,onClick:function(){e.push("/help")},backgroundColor:p,color:"white",time:0})}var Gt=n(17),Yt=n(88),Kt=n.n(Yt);function Jt(e){var t=Object(u.c)((function(e){return e.auth.username})),n=Object(u.c)((function(e){return e.songs.userSongs})),r=Object(a.useState)(!1),c=Object(s.a)(r,2),i=c[0],o=c[1],l=Object(a.useRef)(n?n.length:null),d=Object(C.f)();Object(a.useEffect)((function(){if(n&&n.length!==l.current){l.current=n.length;var e=Object(Gt.a)(n).sort((function(e,t){return e.id<t.id}))[0];o(!1),e&&d.push("/songs/".concat(e.creator,"/").concat(e.id))}}),[n,d]);var b=Object(u.b)();return e.selectedSong?Object(g.jsxs)("div",{children:[Object(g.jsxs)("p",{className:Kt.a.text,children:[e.selectedSong.creator,"\xa0\xa0\xa0|",t&&Object(g.jsx)("span",{onClick:function(){o(!0),b(function(e,t){return function(){var n=Object(A.a)(x.a.mark((function n(a){var r,c,s;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(c in n.prev=0,r={},e)"id"!==c&&(r[c]=e[c]);return r.public=!1,r.is_favourite=!1,r.creator=t,n.next=8,U.a.post("/api/songs/",r,{withCredentials:!0,headers:{"X-CSRFToken":F()}});case 8:s=n.sent,r.id=s.data.id,a({type:ee,song:r}),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),console.log(n.t0.message);case 16:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e){return n.apply(this,arguments)}}()}(e.selectedSong,t))},className:ye.a.pointer,children:"\xa0\xa0\xa0COPY THIS SONG"})]}),i&&Object(g.jsx)(O,{})]}):Object(g.jsx)("p",{})}var Zt=n(34),$t=n(57),en=n.n($t);function tn(e){var t=e.selectedSong,n=Object(a.useState)(),r=Object(s.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)([]),u=Object(s.a)(o,2),l=u[0],p=u[1],f=Object(a.useState)("none"),j=Object(s.a)(f,2),h=j[0],m=j[1],v=e.chordRefs,x=e.setChordRefs,A=e.lyricRefs,y=e.setLyricRefs;Object(a.useEffect)((function(){if(!v){var e=t.lyrics.split("\n").length,n=new Array(e).fill().map((function(){return Object(a.createRef)()}));x(n)}}),[t,v,x]),Object(a.useEffect)((function(){if(!A){var e=t.lyrics.split("\n").length,n=new Array(e).fill().map((function(){return Object(a.createRef)()}));y(n)}}),[t,A,y]);var w=Object(C.f)();Object(a.useEffect)((function(){var e=w.listen((function(){return p([])}));return function(){return e()}}),[w]);var _=function(t){if(e.setUnsavedChanges(!0),"Enter"===t.key)t.preventDefault(),t.target.blur();else if("."===t.key)t.preventDefault(),t.target.value+="    ";else if(","===t.key){t.preventDefault();var n=t.target.value;t.target.value=n.length<=4?"":n.substr(0,n.length-4)}},k=function(e){""===e.target.innerText&&(e.target.innerText=" ")},S=function(e){p((function(t){return-1===t.indexOf(e)?[].concat(Object(Gt.a)(t),[e]):t.filter((function(t){return t!==e}))}))},N=function(t){if(e.isCopyMode){var n=+t.target.id.substr(1);if("none"===h)return t.altKey?E(n):S(n),void i(n);if(0!==l.length){var a=Object(Gt.a)(l).sort((function(e,t){return e.id-t.id})),r=a[0],c=a[a.length-1]-r+1;if(e.setUnsavedChanges(!0),"paste"===h){var s,o=Object(Zt.a)(a);try{for(o.s();!(s=o.n()).done;){var u=s.value,d=n+u-r,b=v[u].current.value,p=v[d];if(!p||!p.current)break;p.current.value=b}}catch(y){o.e(y)}finally{o.f()}}else for(var f=0,j=!1;;){var m,g=Object(Zt.a)(a);try{for(g.s();!(m=g.n()).done;){var O=m.value,x=n+O-r+f*c,A=v[O].current.value,C=v[x];if(!C||!C.current){j=!0;break}C.current.value=A}}catch(y){g.e(y)}finally{g.f()}if(j)break;++f}B()}else B()}},E=function(e){if(null!==c)if(e>c)for(var t=c+1;t<=e;++t)S(t);else if(c>e)for(var n=c-1;n>=e;--n)S(n);else c===e&&S(e);else S(e)},B=function(){p([]),i(null),m("none")},Q=function(e,t){return Object(g.jsxs)("span",{className:ye.a.pointer,onClick:t,children:["\xa0\xa0\xa0\xa0",e,"\xa0\xa0\xa0\xa0"]})};return v&&A?Object(g.jsxs)("div",{children:[e.isCopyMode&&Object(g.jsxs)("div",{className:en.a.toolbar,children:[Q("Clear",B),"|",Q("Copy",(function(){m("paste"),i(null)})),"|",Q("Copy until end",(function(){m("pasteUntilEnd"),i(null)})),"|",Q("Empty",(function(){var e,t=Object(Zt.a)(l);try{for(t.s();!(e=t.n()).done;){var n=e.value;v[n].current.value=""}}catch(a){t.e(a)}finally{t.f()}B()}))]}),Object(g.jsx)("h2",{className:ye.a["song-subtitle"],children:"Lyrics"}),""===t.lyrics?Object(g.jsx)("p",{className:en.a["lyric-line"],children:"No lyrics found."}):t.lyrics.split("\n").map((function(n,a){var r,s={};return e.isCopyMode&&(a===c?s={backgroundColor:d}:-1!==l.indexOf(a)&&(s={backgroundColor:b})),Object(g.jsxs)("div",{children:[Object(g.jsx)("input",{ref:v[a],className:ye.a["dashed-input"],style:s,defaultValue:null!==(r=t.chords.split("\n")[a])&&void 0!==r?r:"",onKeyDown:_,autoCorrect:"off",onClick:N,readOnly:!e.editable||e.isCopyMode}),Object(g.jsx)("p",{ref:A[a],className:en.a["lyric-line"],contentEditable:e.editable||e.isCopyMode,suppressContentEditableWarning:e.editable||e.isCopyMode,onKeyDown:_,onBlur:k,spellCheck:!1,children:n})]},a)}))]}):Object(g.jsx)(O,{})}function nn(e){var t=e.selectedSong,n=Object(u.b)();return e.pulledLyricsRef?Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{className:ye.a["song-subtitle"],children:"Pulled Lyrics"}),Object(g.jsx)("p",{ref:e.pulledLyricsRef,className:ye.a["dashed-input"],contentEditable:!0,suppressContentEditableWarning:!0,onKeyDown:function(){e.setUnsavedChanges(!0)},onBlur:function(e){e.target.innerText!==t.pulled_lyrics&&n(pe(t.id,"pulled_lyrics",e.target.innerText))},spellCheck:!1,children:t.pulled_lyrics?t.pulled_lyrics:"Get started by typing the name and artist of a song above. Then, press Options --\x3e Fetch Lyrics to scrape the web for the lyrics of your song or copy paste the lyrics here. When you're satisfied, press Options --\x3e Transfer Lyrics to start annotating the lyrics with chords in the Lyrics section. Once you've annotated, press auto scroll in the top right corner to start playing through!\n\nClick the help section in the top navigation bar to learn more!\n\nTo get an idea of how this works, press Transfer Lyrics with the current text!"})]}):Object(g.jsx)(O,{})}function an(e){return Object(g.jsx)(Mt,{WrappedComponent:ct.f,text:"Saved!",top:150,onClick:e.onClick,backgroundColor:f,color:"white",time:2e3})}function rn(e){var t=e.selectedSong;return e.strummingPatternRef?Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{className:ye.a["song-subtitle"],children:"Strumming Pattern"}),Object(g.jsx)("input",{ref:e.strummingPatternRef,className:ye.a["dashed-input"],defaultValue:t.strumming_pattern,onKeyDown:function(t){"Enter"===t.key&&(t.preventDefault(),t.target.blur()),e.setUnsavedChanges(!0)},autoCorrect:"off",readOnly:!e.editable})]}):Object(g.jsx)(O,{})}var cn=n(89),sn=n.n(cn);function on(e){var t=Object(a.useRef)(!1),n=Object(a.useRef)(!1),r=Object(a.useState)(!1),c=Object(s.a)(r,2),i=c[0],o=c[1],l=Object(u.c)((function(e){return e.selectedSong.isSongPageView})),d=Object(u.c)((function(e){return e.selectedSong.songLink})),b=Object(u.c)((function(e){return e.selectedSong.isFetching})),p=Object(u.c)((function(e){return e.auth.admin})),f=Object(a.useState)(),h=Object(s.a)(f,2),m=h[0],v=h[1],y=Object(a.useState)(),w=Object(s.a)(y,2),_=w[0],k=w[1],S=Object(a.createRef)(),N=Object(a.createRef)(),E=Object(u.b)(),B=Object(C.f)(),Q=Object(a.createRef)(),I=Object(a.createRef)(),T=B.location.pathname.split("/"),R=Object(u.c)((function(n){var a="view"===T[T.length-1]?n.songs.publicSongs:n.songs.userSongs;if(!a)return null;t.current=!0;var r=+e.match.params.id,c=e.match.params.username;return a.find((function(e){return e.id===r&&e.creator===c}))})),P=Object(a.useRef)(R);Object(a.useEffect)((function(){var e=function(){var e=Object(A.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z(R.id);case 3:E(me(R.id)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.response?e.t0.response.data:e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();R&&R.public&&e()}),[R,E]),Object(a.useEffect)((function(){if(!l){var e=B.block((function(){var e,t=P.current;if(o(!1),n.current||!Y(t,R)){var a=window.confirm("You have unsaved changes! Are you sure you want to leave?");return a&&E((e=t.id,{type:ce,id:e,song:t})),a}return!0}));return function(){return e()}}}),[R,B,E,l]);var L=Object(a.useCallback)((function(e){!n.current&&Y(R,P.current)||(e.preventDefault(),e.returnValue="")}),[R]);Object(a.useEffect)((function(){if(!l)return window.addEventListener("beforeunload",L),function(){return window.removeEventListener("beforeunload",L)}}),[L,l]),Object(a.useEffect)((function(){p||l||function(){var t=Object(A.a)(x.a.mark((function t(){var n,a,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("view"!==T[T.length-1]){t.next=2;break}return t.abrupt("return");case 2:return n=e.match.params.username,t.next=5,W();case 5:a=t.sent,n!==a&&(r=e.match.params.id,B.push("/songs/".concat(n,"/").concat(r,"/view")));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[e.match.params.username,B,d,p,l,T,e.match.params.id]),Object(a.useEffect)((function(){(function(){var n=Object(A.a)(x.a.mark((function n(){var a,r;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("view"!==T[T.length-1]){n.next=3;break}return!R&&t.current&&B.push("/songs/public"),n.abrupt("return");case 3:!R&&t.current?(a=e.match.params.username,r=e.match.params.id,B.push("/songs/".concat(a,"/").concat(r,"/view"))):R&&(P.current=R);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[R,E,B,d,e.match.params.username,e.match.params.id,T]);var V=function(e){n.current!==e&&(n.current=e)},D=function(e){V(!0),"Enter"===e.key&&(e.preventDefault(),e.target.blur())},q=function(){var e=Q.current.value,t=I.current.value,n=R.id;if(R.name!==e||R.artist!==t){var a=e!==R.name?"name":"artist",r=e!==R.name?e:t;E(pe(n,a,r))}};if(!R)return Object(g.jsx)(O,{});var H={editable:!1,isCopyMode:!1};l||(H.editable=!0),i&&(H.isCopyMode=!0);var M=l?{readOnly:!0}:{},X={backgroundColor:i?j:""};return Object(g.jsxs)("div",{className:Ae.a.container,style:X,children:[b&&Object(g.jsx)(O,{}),Object(g.jsx)(Jt,{selectedSong:R}),!l&&Object(g.jsx)(an,{onClick:function(){var e="",t="";if(""===R.lyrics)e="",t="";else for(var n=R.lyrics.split("\n").length,a=0;a<n;++a){e+=_[a].current.innerText,e+=a===n-1?"":"\n",t+=m[a].current.value,t+=a===n-1?"":"\n"}var r,c=Q.current.value,s=I.current.value,i=S.current.value,o=N.current.innerText;P.current=Object(rt.a)(Object(rt.a)({},R),{},{lyrics:e,chords:t,name:c,artist:s,strumming_pattern:i,pulled_lyrics:o}),r=P.current,U.a.put("/api/songs/".concat(r.id,"/"),r,{withCredentials:!0,headers:{"Content-Type":"application/json","X-CSRFToken":F()}}),E(pe(R.id,"lyrics",e)),E(pe(R.id,"chords",t)),E(pe(R.id,"name",c)),E(pe(R.id,"artist",s)),E(pe(R.id,"strumming_pattern",i)),E(pe(R.id,"pulled_lyrics",o)),V(!1)}}),Object(g.jsx)(Xt,{onClick:function(){o((function(e){return!e}))}}),Object(g.jsx)(zt,{}),Object(g.jsx)("input",Object(rt.a)({className:ye.a.title,defaultValue:R.name,placeholder:"Title",onKeyDown:D,onBlur:q,ref:Q},M)),Object(g.jsx)("input",Object(rt.a)({className:sn.a.artist,defaultValue:R.artist,placeholder:"Artist",onKeyDown:D,onBlur:q,ref:I},M)),Object(g.jsx)(rn,Object(rt.a)({selectedSong:R,setUnsavedChanges:V,strummingPatternRef:S},H)),Object(g.jsx)(tn,Object(rt.a)({selectedSong:R,setUnsavedChanges:V,isCopyMode:i,chordRefs:m,setChordRefs:v,lyricRefs:_,setLyricRefs:k},H)),!l&&Object(g.jsx)(nn,{selectedSong:R,setUnsavedChanges:V,pulledLyricsRef:N}),Object(g.jsx)(qt,{id:R.id})]})}function un(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),r=n[0],c=n[1],i=function(){c((function(e){return!e}))},o=Object(C.f)(),l=Object(u.b)();Object(a.useEffect)((function(){l(function(){var e=Object(A.a)(x.a.mark((function e(t){var n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.get("/api/songs/public",{withCredentials:!0});case 3:n=e.sent,a=n.data,t({type:ne,publicSongs:a}),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0.message),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),l(le()),function(){var e=Object(A.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:t=e.sent,l(T(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[l]),Object(a.useEffect)((function(){var e=function(){var e=window.location.href.split("/");if(7===e.length&&"songs"===e[4]){l(N(!0)),l(E(!1));var t=e[6];l(B(t))}else if(8===e.length&&"songs"===e[4]&&"view"===e[7]){l(E(!0)),l(N(!1));var n=e[6];l(B(n))}else l(N(!1)),l(E(!1)),l(B(null))};e();var t=o.listen((function(){e()}));return function(){return t()}}),[l,o]);var d=function(){return Object(g.jsxs)(C.c,{children:[Object(g.jsx)(C.a,{exact:!0,path:"/",component:$e}),Object(g.jsx)(C.a,{exact:!0,path:"/help",component:Ze}),Object(g.jsx)(C.a,{exact:!0,path:"/user/:username",component:Nt}),Object(g.jsx)(C.a,{exact:!0,path:["/accounts/login","/accounts/signup"],component:Se}),Object(g.jsx)(C.a,{exact:!0,path:"/accounts/confirm-email",component:Ne}),Object(g.jsx)(C.a,{exact:!0,path:"/accounts/password-reset",component:mt}),Object(g.jsx)(C.a,{exact:!0,path:"/accounts/password-change/:uid/:token",component:vt}),Object(g.jsx)(C.a,{exact:!0,path:"/songs/public",component:ft}),Object(g.jsx)(C.a,{exact:!0,path:"/songs/all",component:Bt}),Object(g.jsx)(C.a,{exact:!0,path:"/songs/:username",component:Bt}),Object(g.jsx)(C.a,{exact:!0,path:["/songs/:username/:id","/songs/:username/:id/view"],component:on}),Object(g.jsx)(C.a,{component:Ye})]})};return e.horizontal?Object(g.jsxs)("div",{children:[Object(g.jsx)(at,{}),Object(g.jsx)(d,{})]}):Object(g.jsxs)(Ge,{menuOpen:r,changeSidebar:i,children:[Object(g.jsx)(nt,{onMenuClick:i}),Object(g.jsx)(d,{})]})}var ln=n(31),dn=n(90),bn=n(91),pn=n.n(bn),fn=n(66),jn=n(53),hn={userSongs:null,publicSongs:null,filteredUserSongs:null,filteredPublicSongs:null,views:null};var mn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn,t=arguments.length>1?arguments[1]:void 0,n=function(e,t){e&&t.sort((function(t,n){return e[t.id]<e[n.id]}))};if(t.type===te)return Object(rt.a)(Object(rt.a)({},e),{},{userSongs:t.userSongs,filteredUserSongs:t.userSongs});if(t.type===ne)return Object(rt.a)(Object(rt.a)({},e),{},{publicSongs:t.publicSongs,filteredPublicSongs:t.publicSongs});if(t.type===ee){var a=e.userSongs.concat(t.song),r=e.filteredUserSongs.concat(t.song);return X(a),X(r),Object(rt.a)(Object(rt.a)({},e),{},{userSongs:a,filteredUserSongs:r})}if(t.type===ae)return Object(rt.a)(Object(rt.a)({},e),{},{userSongs:e.userSongs.filter((function(e){return e.id!==t.id})),publicSongs:e.publicSongs.filter((function(e){return e.id!==t.id})),filteredUserSongs:e.filteredUserSongs.filter((function(e){return e.id!==t.id})),filteredPublicSongs:e.filteredPublicSongs.filter((function(e){return e.id!==t.id}))});if(t.type===re){var c=Object(rt.a)(Object(rt.a)({},e.userSongs.find((function(e){return e.id===t.id}))),{},Object(L.a)({},t.updateType,t.value));if(!c)return e;var s=e.userSongs.filter((function(e){return e.id!==t.id})).concat(c),i=e.filteredUserSongs.filter((function(e){return e.id!==t.id})).concat(c);X(s),X(i);var o=e.publicSongs.filter((function(e){return e.id!==t.id})),u=e.filteredPublicSongs.filter((function(e){return e.id!==t.id}));return c.public&&(o.push(c),u.push(c),n(e.views,o),n(e.views,u)),Object(rt.a)(Object(rt.a)({},e),{},{userSongs:s,publicSongs:o,filteredUserSongs:i,filteredPublicSongs:u})}if(t.type===ce){var l=e.userSongs.filter((function(e){return e.id!==t.id})).concat(t.song),d=e.filteredUserSongs.filter((function(e){return e.id!==t.id})).concat(t.song);X(l),X(d);var b=e.publicSongs.filter((function(e){return e.id!==t.id})),p=e.filteredPublicSongs.filter((function(e){return e.id!==t.id}));return t.song.public&&(b.push(t.song),p.push(t.song),n(e.views,b),n(e.views,p)),Object(rt.a)(Object(rt.a)({},e),{},{userSongs:l,publicSongs:b,filteredUserSongs:d,filteredPublicSongs:p})}if(t.type===se){if("reset"===t.songs)return Object(rt.a)(Object(rt.a)({},e),{},{filteredPublicSongs:e.publicSongs});var f=Object(Gt.a)(t.songs);return n(e.views,f),Object(rt.a)(Object(rt.a)({},e),{},{filteredPublicSongs:f})}if(t.type===ie)return"reset"===t.songs?Object(rt.a)(Object(rt.a)({},e),{},{filteredUserSongs:e.userSongs}):Object(rt.a)(Object(rt.a)({},e),{},{filteredUserSongs:t.songs});if(t.type===oe){var j=Object(Gt.a)(e.publicSongs),h=Object(Gt.a)(e.filteredPublicSongs);return n(t.views,j),n(t.views,h),Object(rt.a)(Object(rt.a)({},e),{},{views:t.views,publicSongs:j,filteredPublicSongs:h})}if(t.type!==ue)return e;if(e.views){var m=Object(rt.a)(Object(rt.a)({},e.views),{},Object(L.a)({},t.id,void 0!==e.views[t.id]?e.views[t.id]+1:0)),g=Object(Gt.a)(e.publicSongs),O=Object(Gt.a)(e.filteredPublicSongs);return n(m,g),n(m,O),Object(rt.a)(Object(rt.a)({},e),{},{views:m,publicSongs:g,filteredPublicSongs:O})}},gn={isFetching:!1,isSongPage:!1,isSongPageView:!1,songLink:null};var On={username:null,admin:null};var vn={comments:null,flatComments:null},xn=function(e){var t,n={},a=[],r=Object(Zt.a)(e);try{for(r.s();!(t=r.n()).done;){var c=t.value;a.push(Object(rt.a)({},c))}}catch(s){r.e(s)}finally{r.f()}return a.forEach((function(e){return n[e.id]=e})),a.forEach((function(e){if(null!==e.parent){var t=n[e.parent];(t.children=t.children||[]).push(e)}})),a.filter((function(e){return null===e.parent}))},An=function(e,t){for(var n=[t],a=[t];n.length;){var r,c=n.pop(),s=Object(Zt.a)(e);try{for(s.s();!(r=s.n()).done;){var i=r.value;i.parent===c&&(n.push(i.id),a.push(i.id))}}catch(o){s.e(o)}finally{s.f()}}return e.filter((function(e){return-1===a.indexOf(e.id)}))};var Cn=Object(ln.b)({songs:mn,selectedSong:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(rt.a)(Object(rt.a)({},e),{},{isFetching:t.value});case w:return Object(rt.a)(Object(rt.a)({},e),{},{isSongPage:t.value});case _:return Object(rt.a)(Object(rt.a)({},e),{},{isSongPageView:t.value});case k:return Object(rt.a)(Object(rt.a)({},e),{},{songLink:t.link});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(rt.a)(Object(rt.a)({},e),{},{username:t.username});case I:return Object(rt.a)(Object(rt.a)({},e),{},{admin:t.admin});default:return e}},comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,t=arguments.length>1?arguments[1]:void 0,n=t.songId;switch(t.type){case Qt:if(e.flatComments){if(e.flatComments[n]){var a=Object(rt.a)(Object(rt.a)({},e.flatComments),{},Object(L.a)({},n,[].concat(Object(Gt.a)(e.flatComments[n]),Object(Gt.a)(t.comments)))),r=Object(rt.a)(Object(rt.a)({},e.comments),{},Object(L.a)({},n,xn(a[n])));return Object(rt.a)(Object(rt.a)({},e),{},{flatComments:a,comments:r})}return Object(rt.a)(Object(rt.a)({},e),{},{flatComments:Object(rt.a)(Object(rt.a)({},e.flatComments),{},Object(L.a)({},n,t.comments)),comments:Object(rt.a)(Object(rt.a)({},e.comments),{},Object(L.a)({},n,xn(t.comments)))})}return{flatComments:Object(L.a)({},n,t.comments),comments:Object(L.a)({},n,xn(t.comments))};case It:var c=Object(rt.a)(Object(rt.a)({},e.flatComments),{},Object(L.a)({},n,An(e.flatComments[n],t.id))),s=Object(rt.a)(Object(rt.a)({},e.comments),{},Object(L.a)({},n,xn(c[n])));return Object(rt.a)(Object(rt.a)({},e),{},{flatComments:c,comments:s});case Tt:var i=e.flatComments[n].find((function(e){return e.id===t.id})),o=Object(rt.a)(Object(rt.a)({},i),{},{contents:t.contents,date_of_creation:t.time,edited:!0}),u=e.flatComments[n].filter((function(e){return e.id!==t.id}));u.push(o);var l=Object(rt.a)(Object(rt.a)({},e.flatComments),{},Object(L.a)({},n,u)),d=Object(rt.a)(Object(rt.a)({},e.comments),{},Object(L.a)({},n,xn(u)));return Object(rt.a)(Object(rt.a)({},e),{},{flatComments:l,comments:d});default:return e}}}),yn={key:"root",storage:pn.a,stateReconciler:jn.a,blacklist:["songs","comments"]},wn=Object(fn.a)(yn,Cn),_n=Object(ln.c)(wn,Object(ln.a)(dn.a)),kn=Object(fn.b)(_n);function Sn(){var e=Object(a.useState)(window.matchMedia("(orientation: landscape)").matches),t=Object(s.a)(e,2),n=t[0],r=t[1];window.matchMedia("(orientation: landscape)").addEventListener("change",(function(){r(window.matchMedia("(orientation: landscape)").matches)}));var c={color:d,size:"1.5em",style:{cursor:"pointer"}};return Object(g.jsx)(u.a,{store:_n,children:Object(g.jsx)(o.a,{persistor:kn,loading:Object(g.jsx)(O,{}),children:Object(g.jsx)(l.a,{children:Object(g.jsx)(i.b.Provider,{value:c,children:n?Object(g.jsx)(un,{horizontal:!0}):Object(g.jsx)(un,{})})})})})}c.a.render(Object(g.jsx)(Sn,{}),document.getElementById("root"))},24:function(e,t,n){e.exports={"link-horizontal":"NavContent_link-horizontal__6PlLg","link-vertical":"NavContent_link-vertical__1Gu7b",container:"NavContent_container__3CUXL","container-horizontal":"NavContent_container-horizontal__2_D8Q","column-vertical":"NavContent_column-vertical__15yoH","left-div":"NavContent_left-div__n8LtB","left-div-horizontal":"NavContent_left-div-horizontal__2Mzej","left-div-vertical":"NavContent_left-div-vertical__brZyj","login-row":"NavContent_login-row__1rSzI","login-column":"NavContent_login-column__1YpZj",view:"NavContent_view__E5e6L"}},28:function(e,t,n){e.exports={arrow:"SongBlock_arrow__OZq3H",artist:"SongBlock_artist__268cz","button-container":"SongBlock_button-container__2i7UG",creator:"SongBlock_creator__1Bd_c","creator-name":"SongBlock_creator-name__3DABZ",eye:"SongBlock_eye__3Gc2b","image-container":"SongBlock_image-container__11f-t",name:"SongBlock_name__2NW_f","song-container":"SongBlock_song-container__356On",views:"SongBlock_views__gRMen"}},29:function(e,t,n){e.exports={"button-container":"Auth_button-container__1rgxm",field:"Auth_field__3jxUi",label:"Auth_label__1Ho8t"}},3:function(e,t,n){e.exports={"nav-bar-link":"ui_nav-bar-link__WZfHC","nav-bar-hover":"ui_nav-bar-hover__172Zv",title:"ui_title__3IFjf","song-subtitle":"ui_song-subtitle__17slJ",subtitle:"ui_subtitle__1GEJE","plain-h2":"ui_plain-h2__19n4Q","plain-h3":"ui_plain-h3__2nQ6f","plain-h4":"ui_plain-h4__3Hp8N","small-text":"ui_small-text__3MIn_","dashed-input":"ui_dashed-input__N3bem","purple-input":"ui_purple-input__2sQ0c","sidebar-container":"ui_sidebar-container__1YC0I","sidebar-icon":"ui_sidebar-icon__3C57-","sidebar-text":"ui_sidebar-text__2VZBa",pointer:"ui_pointer__9i5FT",emphasis:"ui_emphasis__2mJqj",italic:"ui_italic__Wsqb1","white-space":"ui_white-space__2gTcx"}},35:function(e,t,n){e.exports={children:"CommentsBlock_children__3m1ip","outer-container":"CommentsBlock_outer-container__3a5On",container:"CommentsBlock_container__2C-Vm","horizontal-container":"CommentsBlock_horizontal-container__2-Lve",trash:"CommentsBlock_trash__g9llf","reply-container":"CommentsBlock_reply-container__2CrD2"}},46:function(e,t,n){e.exports={border:"Help_border__1Jaje"}},47:function(e,t,n){e.exports={picture:"Profile_picture__1ObJj","menu-button":"Profile_menu-button__2jS5w","menu-button-active":"Profile_menu-button-active__2B7Fw","file-upload":"Profile_file-upload__sWBr2"}},55:function(e,t,n){e.exports={option:"DropMenu_option__3yem8",hover:"DropMenu_hover__jp3S7","white-option":"DropMenu_white-option__3bqmw","dropdown-option":"DropMenu_dropdown-option__2FQv1"}},56:function(e,t,n){e.exports={text:"PasswordChange_text__3XDge",button:"PasswordChange_button__2mRpy"}},57:function(e,t,n){e.exports={"lyric-line":"LyricsBlock_lyric-line__2PssJ",toolbar:"LyricsBlock_toolbar__1qeRJ"}},61:function(e,t,n){e.exports={container:"LogoutButton_container__2eBWo",name:"LogoutButton_name__2u8ZK"}},63:function(e,t,n){e.exports={container:"MenuBar_container__EYpdn",image:"MenuBar_image__bljwB"}},64:function(e,t,n){e.exports={text:"PasswordReset_text__2u7J4",button:"PasswordReset_button__1MWdJ"}},65:function(e,t,n){e.exports={container:"NewComment_container__17Brb",heading:"NewComment_heading__3mJxf"}},77:function(e,t,n){e.exports={btn:"Button_btn__3xaJM"}},84:function(e,t,n){e.exports={input:"SearchBar_input__35An9"}},85:function(e,t,n){e.exports={text:"CapitalText_text__2p702"}},86:function(e,t,n){e.exports={input:"TextArea_input__1PU5S"}},88:function(e,t,n){e.exports={text:"InfoBar_text__ZHoJV"}},89:function(e,t,n){e.exports={artist:"Song_artist__3jwwy"}},99:function(e,t,n){}},[[129,1,2]]]);
//# sourceMappingURL=main.6a6ed31d.chunk.js.map